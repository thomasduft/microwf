(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{tqwO:function(l,n,t){"use strict";t.r(n),t.d(n,"IssueModuleNgFactory",(function(){return R}));var u=t("8Y7J"),e=t("mrSG"),i=t("iInd"),s=t("7R//"),r=t("bH52"),o=function(){function l(l){this._http=l}return l.prototype.assignees=function(){return this._http.get("issue/assignees")},l.prototype.myWork=function(){return this._http.get("issue/mywork")},l.prototype.create=function(){return this._http.post("issue/new",null)},l.prototype.save=function(l){return this._http.post("issue",l)},l.prototype.get=function(l){return this._http.get("issue/"+l)},l.prototype.process=function(l){return this._http.post("issue/process",l)},l}(),a=function(){function l(l,n){this._router=l,this._service=n,this.workspace="pane"}return l.prototype.ngOnInit=function(){this.myWork$=this._service.myWork()},l.prototype.create=function(){this._router.navigate(["./detail/new"])},l.prototype.reload=function(){this.ngOnInit()},Object(e.b)([s.a,Object(e.e)("design:paramtypes",[i.k,o])],l)}(),c=t("kmKP"),b=t("uSmQ"),p=function(){function l(n){this.key=l.KEY,this.type=b.e,this.title="",n.map((function(l){return{key:l,value:l}})),this.editors=[{key:"id",type:b.c,label:"Id",required:!1},{key:"title",type:b.g,label:"Message",required:!0,minLength:3,maxLength:140},{key:"description",type:b.f,label:"Description",required:!1,maxLength:500}]}return l.KEY="issuedetailslot",l}(),f=function(){function l(l,n,t,u,e){this._route=l,this._router=n,this._user=t,this._service=u,this._slotRegistry=e,this.key=p.KEY,this.canTrigger=!1,this.isNew=!1}return l.prototype.ngOnInit=function(){var l=this;this._routeParams$=this._route.params.subscribe((function(n){n.id&&l.init(n.id)}))},l.prototype.submitted=function(l){var n=this;this._issue$=this._service.save(l).subscribe((function(l){l>0&&n.back()}))},l.prototype.cancel=function(){this.back()},l.prototype.triggerClicked=function(l){var n=this;this._issue$=this._service.process({id:this.viewModel.id,trigger:l,assignee:this.viewModel.assignee,title:this.viewModel.title,description:this.viewModel.description}).subscribe((function(l){l.triggerInfo.succeeded&&l.viewModel.assignee!==n._user.userName?n._router.navigate(["dispatch",l.viewModel.assignee,"issue"]):(n.viewModel=l.entity,n.triggerInfo=l.triggerInfo,n.entity=l.entity)}))},l.prototype.back=function(){this._router.navigate(["issue"])},l.prototype.init=function(l){var n=this;this._assignees$=this._service.assignees().subscribe((function(t){n._slotRegistry.register(new p(t)),"new"!==l?n.load(l.toString()):n.create()}))},l.prototype.load=function(l){var n=this;this._issue$=this._service.get(l).subscribe((function(l){n.key=p.KEY,n.viewModel=l.viewModel,n.triggerInfo=l.triggerInfo,n.entity=l.entity}))},l.prototype.create=function(){var l=this;this._issue$=this._service.create().subscribe((function(n){l.viewModel=n.viewModel,l.triggerInfo=n.triggerInfo,l.entity=n.entity,l.isNew=!0}))},Object(e.b)([s.a,Object(e.e)("design:paramtypes",[i.a,i.k,c.a,o,b.b])],l)}(),d=function(){return function(){}}(),h=t("pMnS"),g=t("ciwL"),m=t("0Abp"),v=t("SVse"),w=t("9T6n"),y=t("Kcpt"),k=u.sb({encapsulation:2,styles:[],data:{}});function _(l){return u.Vb(0,[(l()(),u.ub(0,0,null,null,22,"div",[["class","list__item"]],null,null,null,null,null)),(l()(),u.ub(1,0,null,null,21,"div",[["routerLinkActive","active"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Ib(l,2).onClick()&&e),e}),null,null)),u.tb(2,540672,[[4,4]],0,i.l,[i.k,i.a,[8,null],u.D,u.l],{routerLink:[0,"routerLink"]},null),u.Jb(3,2),u.tb(4,1720320,null,2,i.m,[i.k,u.l,u.D,u.h,[2,i.l],[2,i.n]],{routerLinkActive:[0,"routerLinkActive"]},null),u.Ob(603979776,4,{links:1}),u.Ob(603979776,5,{linksWithHrefs:1}),(l()(),u.ub(7,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),u.ub(8,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Title:"])),(l()(),u.ub(10,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Sb(11,null,[" ",""])),(l()(),u.ub(12,0,null,null,10,"div",[["class","list__itemDetail"]],null,null,null,null,null)),(l()(),u.ub(13,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),u.ub(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Sb(-1,null,["State:"])),(l()(),u.ub(16,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Sb(17,null,[" ",""])),(l()(),u.ub(18,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),u.ub(19,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Assignee:"])),(l()(),u.ub(21,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Sb(22,null,[" ",""]))],(function(l,n){var t=l(n,3,0,"detail",null==n.context.$implicit?null:n.context.$implicit.id);l(n,2,0,t),l(n,4,0,"active")}),(function(l,n){l(n,11,0,null==n.context.$implicit?null:n.context.$implicit.title),l(n,17,0,null==n.context.$implicit?null:n.context.$implicit.state),l(n,22,0,null==n.context.$implicit?null:n.context.$implicit.assignee)}))}function I(l){return u.Vb(0,[(l()(),u.ub(0,0,null,null,21,"div",[["class","pane__left"]],null,null,null,null,null)),(l()(),u.ub(1,0,null,null,20,"tw-list",[],null,null,null,g.d,g.b)),u.tb(2,1163264,[["list",4]],3,m.c,[],{rows:[0,"rows"]},null),u.Ob(603979776,1,{header:0}),u.Ob(603979776,2,{footer:0}),u.Ob(603979776,3,{templates:1}),u.Kb(131072,v.b,[u.h]),(l()(),u.ub(7,0,null,0,12,"tw-header",[],[[8,"className",0]],null,null,g.c,g.a)),u.tb(8,49152,[[1,4]],0,m.b,[],null,null),(l()(),u.ub(9,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Issues"])),(l()(),u.ub(11,0,null,0,8,"div",[["class","button__bar"]],null,null,null,null,null)),(l()(),u.ub(12,0,null,null,4,"a",[["class","button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Ib(l,13).onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)&&e),e}),null,null)),u.tb(13,671744,null,0,i.n,[i.k,i.a,v.i],{routerLink:[0,"routerLink"]},null),u.Jb(14,1),(l()(),u.ub(15,0,null,null,1,"tw-icon",[["name","plus"]],null,null,null,w.b,w.a)),u.tb(16,49152,null,0,y.a,[],{name:[0,"name"]},null),(l()(),u.ub(17,0,null,null,2,"button",[["type","button"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.reload()&&u),u}),null,null)),(l()(),u.ub(18,0,null,null,1,"tw-icon",[["name","refresh"]],null,null,null,w.b,w.a)),u.tb(19,49152,null,0,y.a,[],{name:[0,"name"]},null),(l()(),u.db(0,null,null,1,null,_)),u.tb(21,16384,[[3,4]],0,m.d,[u.L],{name:[0,"name"]},null),(l()(),u.ub(22,0,null,null,2,"div",[["class","pane__main"]],null,null,null,null,null)),(l()(),u.ub(23,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),u.tb(24,212992,null,0,i.p,[i.b,u.O,u.j,[8,null],u.h],null,null)],(function(l,n){var t=n.component;l(n,2,0,u.Tb(n,2,0,u.Ib(n,6).transform(t.myWork$)));var e=l(n,14,0,"detail/new");l(n,13,0,e),l(n,16,0,"plus"),l(n,19,0,"refresh"),l(n,21,0,"issue-item"),l(n,24,0)}),(function(l,n){l(n,7,0,u.Ib(n,8).header),l(n,12,0,u.Ib(n,13).target,u.Ib(n,13).href)}))}function G(l){return u.Vb(0,[(l()(),u.ub(0,0,null,null,2,"tw-issue-dashboard",[],[[8,"className",0]],null,null,I,k)),u.Nb(512,null,o,o,[r.a]),u.tb(2,114688,null,0,a,[i.k,o],null,null)],(function(l,n){l(n,2,0)}),(function(l,n){l(n,0,0,u.Ib(n,2).workspace)}))}var M=u.qb("tw-issue-dashboard",a,G,{},{},[]),S=t("+bzN"),O=t("wuMS"),$=t("fT1S"),x=t("k0N/"),L=t("s7LF"),N=t("MtBY"),K=t("4D5B"),j=u.sb({encapsulation:2,styles:[],data:{}});function V(l){return u.Vb(0,[(l()(),u.ub(0,0,null,null,1,"tw-trigger-info",[],null,[[null,"trigger"]],(function(l,n,t){var u=!0;return"trigger"===n&&(u=!1!==l.component.triggerClicked(t)&&u),u}),S.b,S.a)),u.tb(1,49152,null,0,O.a,[],{triggerInfo:[0,"triggerInfo"],canTrigger:[1,"canTrigger"]},{trigger:"trigger"})],(function(l,n){l(n,1,0,n.component.triggerInfo,u.Ib(n.parent,7).formIsValid)}),null)}function q(l){return u.Vb(0,[u.Ob(671088640,1,{formDef:0}),(l()(),u.ub(1,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.db(16777216,null,null,1,null,V)),u.tb(3,16384,null,0,v.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ub(4,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.ub(5,0,null,null,2,"tw-formdef",[],[[8,"className",0]],[[null,"submitted"],[null,"resetted"]],(function(l,n,t){var u=!0,e=l.component;return"submitted"===n&&(u=!1!==e.submitted(t)&&u),"resetted"===n&&(u=!1!==e.cancel()&&u),u}),$.b,$.a)),u.Nb(512,null,x.a,x.a,[L.e,N.a]),u.tb(7,114688,[[1,4],["formDef",4]],0,K.a,[x.a],{key:[0,"key"],viewModel:[1,"viewModel"],showSave:[2,"showSave"],showCancel:[3,"showCancel"]},{submitted:"submitted",resetted:"resetted"})],(function(l,n){var t=n.component;l(n,3,0,!t.isNew&&u.Ib(n,7)),l(n,7,0,t.key,t.viewModel,t.isNew,t.isNew)}),(function(l,n){l(n,5,0,u.Ib(n,7).class)}))}function D(l){return u.Vb(0,[(l()(),u.ub(0,0,null,null,2,"tw-issue",[],null,null,null,q,j)),u.Nb(512,null,o,o,[r.a]),u.tb(2,114688,null,0,f,[i.a,i.k,c.a,o,N.a],null,null)],(function(l,n){l(n,2,0)}),null)}var T=u.qb("tw-issue",f,D,{},{},[]),Y=t("lQXL"),C=t("BYjs"),W=t("Moxv"),A=t("RoQU"),J=t("Qaql"),E=t("8xKt"),Q=t("j+9/"),R=u.rb(d,[],(function(l){return u.Fb([u.Gb(512,u.j,u.W,[[8,[h.a,M,T]],[3,u.j],u.x]),u.Gb(4608,v.n,v.m,[u.u]),u.Gb(4608,L.e,L.e,[]),u.Gb(4608,L.x,L.x,[]),u.Gb(4608,N.a,N.a,[]),u.Gb(4608,o,o,[r.a]),u.Gb(1073742336,v.c,v.c,[]),u.Gb(1073742336,i.o,i.o,[[2,i.t],[2,i.k]]),u.Gb(1073742336,L.w,L.w,[]),u.Gb(1073742336,L.t,L.t,[]),u.Gb(1073742336,L.j,L.j,[]),u.Gb(1073742336,Y.a,Y.a,[]),u.Gb(512,C.b,C.b,[]),u.Gb(1073742336,W.a,W.a,[C.b]),u.Gb(1073742336,A.a,A.a,[]),u.Gb(1073742336,J.a,J.a,[]),u.Gb(1073742336,E.a,E.a,[]),u.Gb(1073742336,Q.a,Q.a,[]),u.Gb(1073742336,d,d,[]),u.Gb(1024,i.i,(function(){return[[{path:"",component:a,children:[{path:"detail/:id",component:f},{path:"detail/new",component:f}]}]]}),[])])}))}}]);